@tailwind base;
@tailwind components;
@tailwind utilities;

/* LIGHT */
:root {
  --accent: #facc15;   
  --bg: #f8fafc;
  --fg: #0f172a;
  --shadow-accent: rgba(15,23,42,.85);
  color-scheme: light;
}

/* DARK */
.dark {
  --accent: #eab308;   
  --bg: #0f172a;
  --fg: #e5e7eb;
  --shadow-accent: rgba(250,204,21,.85);
  color-scheme: dark;
}

html, body, #root { height: 100%; }
html { scroll-behavior: smooth; }
body {
  background-color: var(--bg);
  color: var(--fg);
  background-image: theme('backgroundImage.darkgrid');
  background-size: 100px 100px;
}
:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
section { scroll-margin-top: 84px; }

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition;
    color: black;
    background: var(--accent);                
    box-shadow: 0 4px 16px rgba(250,204,21,.22);
    transition: background-color .2s ease, box-shadow .7s ease;
  }
  .btn-primary:hover {
    background: color-mix(in oklab, var(--accent), #f97316 28%);
    box-shadow: 0 10px 28px rgba(249,115,22,.28);
  }
  .btn-outline {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium border transition;
    border-color: color-mix(in oklab, var(--fg), transparent 80%);
  }
  .btn-outline:hover {
    background: color-mix(in oklab, var(--fg), transparent 92%);
  }

  .shadow-accent { transition: box-shadow .7s ease; transform: .3s ease;}
  .shadow-accent:hover {
    box-shadow: 0 24px 48px var(--shadow-accent), 0 8px 22px rgba(0,0,0,.2);
    transform: translateY(-2px);
  }

  .divider-accent {
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    opacity: .35;
  }
  
  .contact-badge {
    @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-lg font-medium;
    color: black;
    background: var(--accent);
    box-shadow: 0 6px 20px rgba(250,204,21,.28);
    position: relative;
  }

  .contact-badge small {
    @apply text-xs font-normal opacity-80;
  }

  .contact-badge:hover {
    background: color-mix(in oklab, var(--accent), #f97316 28%);
    box-shadow: 0 10px 28px rgba(249,115,22,.28);
  }

  .contact-cta {
    position: relative;
  }
  .contact-cta::after {
    content: "";
    position: absolute;
    right: -10px; top: 50%;
    width: 6px; height: 6px;
    border-radius: 9999px;
    background: var(--accent);
    transform: translateY(-50%);
    opacity: .85;
    animation: contactPulse 2.4s ease-in-out infinite;
  }
  @keyframes contactPulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(250,204,21,.0); }
    50% { box-shadow: 0 0 0 6px rgba(250,204,21,.18); }
  }

  .icon-btn .emoji { transition: text-shadow .25s ease; }
  .icon-btn:hover .emoji { text-shadow: 0 0 25px var(--shadow-accent); }

  @keyframes slideIn {
    from { transform: translateX(20%); opacity: .0; }
    to   { transform: translateX(0); opacity: 1; }
  }
  .drawer {
    backdrop-filter: blur(10px);
    animation: slideIn .28s ease both;
  }

  .mnav a {
    @apply py-2 px-2 rounded;
  }
  .mnav a:hover {
    @apply bg-black/5 dark:bg-white/10 text-[var(--accent)];
  }

  .btn-link {
    @apply inline-flex items-center gap-2 font-semibold text-sm;
    color: var(--accent);
    position: relative;
    overflow: hidden;
  }
  .btn-link .arrow {
    transform: translateX(-8px);
    transition: transform .35s ease;
  }
  .btn-link:hover .arrow {
    transform: translateX(calc(100% - 2px)); /* traverse le texte */
  }

  .btn-attention {
    animation: ctaPulse 6s ease-in-out infinite;
  }
  @keyframes ctaPulse {
    0%, 90%, 100% { transform: translateY(0); box-shadow: 0 4px 16px rgba(250,204,21,.22); }
    92% { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(249,115,22,.28); }
  }


  .tech-viewport { position: relative; overflow: hidden; }
  .tech-scroll { display: flex; gap: .75rem; overflow: hidden; scroll-behavior: smooth; }
  .tech-card{
    @apply flex items-center gap-3 px-3 py-2 rounded-lg border border-black/10 dark:border-white/10 bg-white/60 dark:bg-white/5 hover:shadow-accent transition;
    min-width: 220px;
  }
  .tech-track { 
    display: flex; gap: .75rem; padding-block: .25rem; 
    animation: techMarquee 30s linear infinite reverse; 
  }
  @keyframes techMarquee{
    from{ transform: translateX(0); }
    to  { transform: translateX(-50%); } /* on duplique le contenu pour boucler */
  }
  .tech-icon-wrap{
    @apply h-10 w-10 rounded-md flex items-center justify-center;
    background: rgba(2,6,23,.06);
  }

  .tech-ctrl {
    @apply inline-flex items-center justify-center w-9 h-9 rounded-md border border-black/10 dark:border-white/10 transition;
  }
  .tech-ctrl:hover { @apply bg-black/5 dark:bg-white/10; }

  .tech-title{ @apply text-sm font-medium; }
  .tech-desc{ @apply text-[11px] opacity-70; }

}
